<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Teacher Dashboard</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #eef2f7;
        margin: 0;
        padding: 0;
    }

    header {
        background: #343a40;
        color: white;
        padding: 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    header button {
        background: red;
        color: white;
        border: none;
        padding: 8px 12px;
        cursor: pointer;
        border-radius: 5px;
    }

    .container {
        padding: 20px;
    }

    .login-box, .card {
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        margin-bottom: 20px;
    }

    input, textarea {
        width: 100%;
        padding: 8px;
        margin: 6px 0;
    }

    button {
        padding: 8px 12px;
        background: #007bff;
        color: white;
        border: none;
        cursor: pointer;
        border-radius: 5px;
        margin-top: 5px;
    }

    button.cancel {
        background: #dc3545;
    }

    button.approve {
        background: #28a745;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 10px;
    }

    th, td {
        border: 1px solid #ccc;
        padding: 8px;
        text-align: center;
    }

    .hidden {
        display: none;
    }
</style>
</head>

<body>

<!-- Login Section -->
<div class="container" id="loginSection">
    <div class="login-box">
        <h2>Teacher Login</h2>
        <input type="text" id="username" placeholder="Username">
        <input type="password" id="password" placeholder="Password">
        <button onclick="login()">Login</button>
    </div>
</div>

<!-- Dashboard -->
<div id="dashboard" class="hidden">

<header>
    <h2>Teacher Dashboard</h2>
    <button onclick="logout()">Logout</button>
</header>

<div class="container">

    <!-- Schedule Appointment -->
    <div class="card">
        <h3>Schedule Appointment</h3>
        <input type="text" id="studentName" placeholder="Student Name">
        <input type="date" id="date">
        <input type="time" id="time">
        <button onclick="scheduleAppointment()">Schedule</button>
    </div>

    <!-- Approve / Cancel Appointment -->
    <div class="card">
        <h3>Approve / Cancel Appointments</h3>
        <table>
            <thead>
                <tr>
                    <th>Student</th>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="appointmentTable"></tbody>
        </table>
    </div>

    <!-- View All Appointments -->
    <div class="card">
        <h3>All Appointments</h3>
        <ul id="allAppointments"></ul>
    </div>

    <!-- View Messages -->
    <div class="card">
        <h3>Messages</h3>
        <ul id="messageList"></ul>
    </div>

</div>
</div>

<script>
    let appointments = [];
    let messages = [
        "Student Ravi: Need guidance on project",
        "Student Sita: Requesting appointment reschedule"
    ];

    function login() {
        let user = document.getElementById("username").value;
        let pass = document.getElementById("password").value;

        if (user === "teacher" && pass === "1234") {
            document.getElementById("loginSection").classList.add("hidden");
            document.getElementById("dashboard").classList.remove("hidden");
            displayMessages();
        } else {
            alert("Invalid Login");
        }
    }

    function logout() {
        document.getElementById("dashboard").classList.add("hidden");
        document.getElementById("loginSection").classList.remove("hidden");
    }

    function scheduleAppointment() {
        let student = document.getElementById("studentName").value;
        let date = document.getElementById("date").value;
        let time = document.getElementById("time").value;

        if (!student || !date || !time) {
            alert("Fill all fields");
            return;
        }

        appointments.push({
            student,
            date,
            time,
            status: "Pending"
        });

        document.getElementById("studentName").value = "";
        document.getElementById("date").value = "";
        document.getElementById("time").value = "";

        displayAppointments();
    }

    function displayAppointments() {
        let table = document.getElementById("appointmentTable");
        let list = document.getElementById("allAppointments");

        table.innerHTML = "";
        list.innerHTML = "";

        appointments.forEach((a, index) => {
            table.innerHTML += `
            <tr>
                <td>${a.student}</td>
                <td>${a.date}</td>
                <td>${a.time}</td>
                <td>${a.status}</td>
                <td>
                    <button class="approve" onclick="updateStatus(${index}, 'Approved')">Approve</button>
                    <button class="cancel" onclick="updateStatus(${index}, 'Cancelled')">Cancel</button>
                </td>
            </tr>
            `;

            list.innerHTML += `
            <li>${a.student} - ${a.date} ${a.time} (${a.status})</li>
            `;
        });
    }

    function updateStatus(index, status) {
        appointments[index].status = status;
        displayAppointments();
    }

    function displayMessages() {
        let list = document.getElementById("messageList");
        list.innerHTML = "";

        messages.forEach(msg => {
            list.innerHTML += `<li>${msg}</li>`;
        });
    }
</script>

</body>
</html>